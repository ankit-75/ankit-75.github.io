function calculateHRAExemption(){const a=parseFloat(document.getElementById("basicSalary").value)||0,b=parseFloat(document.getElementById("hraPaid").value)||0,c=parseFloat(document.getElementById("rentPaid").value)||0;return Math.min(b,c,c-.4*a)}function calculateOldRegimeTax(a,b=0,c=0){let d=a-b-c,e=0,f=[],g=0,h=0,i=0;if(25e4>=d)e=0,f.push({slab:"\u20B90 \u2013 \u20B92.5 L",taxableIncome:d,rate:"0%",tax:"\u20B90"});else if(5e5>=d){let a=.05*(d-25e4);e=a,f.push({slab:"\u20B92.5 L \u2013 \u20B95 L",taxableIncome:d-25e4,rate:"5%",tax:`₹${a.toFixed(2)}`})}else if(1e6>=d){e=12500+.2*(d-5e5),f.push({slab:"\u20B92.5 L \u2013 \u20B95 L",taxableIncome:25e4,rate:"5%",tax:"\u20B912500"}),f.push({slab:"\u20B95 L \u2013 \u20B910 L",taxableIncome:d-5e5,rate:"20%",tax:`₹${(.2*(d-5e5)).toFixed(2)}`})}else{e=112500+.3*(d-1e6),f.push({slab:"\u20B92.5 L \u2013 \u20B95 L",taxableIncome:25e4,rate:"5%",tax:"\u20B912500"}),f.push({slab:"\u20B95 L \u2013 \u20B910 L",taxableIncome:5e5,rate:"20%",tax:"\u20B9100000"}),f.push({slab:"\u20B910 L and above",taxableIncome:d-1e6,rate:"30%",tax:`₹${(.3*(d-1e6)).toFixed(2)}`})}if(5e5>=d)12500>=e?g=e:i=e;else{let a=d-5e5,b=Math.min(a,e);b==a?(h=e-a,i=b):i=e}return{tax:e,breakdown:f,taxableIncome:d,taxRebate:g,marginalRelief:h,taxPayable:i}}function calculateNewRegimeTax(a){let b=a-75e3,c=0,d=[],e=0,f=0,g=0;if(3e5>=b)c=0,d.push({slab:"\u20B90 \u2013 \u20B93 L",taxableIncome:b,rate:"0%",tax:"\u20B90"});else if(7e5>=b){let a=.05*(b-3e5);c=a,d.push({slab:"\u20B93 L \u2013 \u20B97 L",taxableIncome:b-3e5,rate:"5%",tax:`₹${a.toFixed(2)}`})}else if(1e6>=b){c=20000+.1*(b-7e5),d.push({slab:"\u20B93 L \u2013 \u20B97 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B97 L \u2013 \u20B910 L",taxableIncome:b-7e5,rate:"10%",tax:`₹${(.1*(b-7e5)).toFixed(2)}`})}else if(12e5>=b){c=50000+.15*(b-1e6),d.push({slab:"\u20B93 L \u2013 \u20B97 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B97 L \u2013 \u20B910 L",taxableIncome:3e5,rate:"10%",tax:"\u20B930000"}),d.push({slab:"\u20B910 L \u2013 \u20B912 L",taxableIncome:b-1e6,rate:"15%",tax:`₹${(.15*(b-1e6)).toFixed(2)}`})}else if(15e5>=b){c=80000+.2*(b-12e5),d.push({slab:"\u20B93 L \u2013 \u20B97 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B97 L \u2013 \u20B910 L",taxableIncome:3e5,rate:"10%",tax:"\u20B930000"}),d.push({slab:"\u20B910 L \u2013 \u20B912 L",taxableIncome:2e5,rate:"15%",tax:"\u20B930000"}),d.push({slab:"\u20B912 L \u2013 \u20B915 L",taxableIncome:b-12e5,rate:"20%",tax:`₹${(.2*(b-12e5)).toFixed(2)}`})}else{c=140000+.3*(b-15e5),d.push({slab:"\u20B93 L \u2013 \u20B97 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B97 L \u2013 \u20B910 L",taxableIncome:3e5,rate:"10%",tax:"\u20B930000"}),d.push({slab:"\u20B910 L \u2013 \u20B912 L",taxableIncome:2e5,rate:"15%",tax:"\u20B930000"}),d.push({slab:"\u20B912 L \u2013 \u20B915 L",taxableIncome:3e5,rate:"20%",tax:"\u20B960000"}),d.push({slab:"\u20B915 L and above",taxableIncome:b-15e5,rate:"30%",tax:`₹${(.3*(b-15e5)).toFixed(2)}`})}if(7e5>=b)25e3>=c?e=c:g=c;else{let a=b-7e5,d=Math.min(a,c);d==a?(f=c-a,g=d):g=c}return{tax:c,breakdown:d,taxableIncome:b,taxRebate:e,marginalRelief:f,taxPayable:g}}function calculateNewRegimeTax2025_26(a){let b=a-75e3,c=0,d=[],e=0,f=0,g=0;if(4e5>=b)c=0,d.push({slab:"\u20B90 \u2013 \u20B94 L",taxableIncome:b,rate:"0%",tax:"\u20B90"});else if(8e5>=b){let a=.05*(b-4e5);c=a,d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:b-4e5,rate:"5%",tax:`₹${a.toFixed(2)}`})}else if(12e5>=b){c=20000+.1*(b-8e5),d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B98 L \u2013 \u20B912 L",taxableIncome:b-8e5,rate:"10%",tax:`₹${(.1*(b-8e5)).toFixed(2)}`})}else if(16e5>=b){c=60000+.15*(b-12e5),d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B98 L \u2013 \u20B912 L",taxableIncome:4e5,rate:"10%",tax:"\u20B940000"}),d.push({slab:"\u20B912 L \u2013 \u20B916 L",taxableIncome:b-12e5,rate:"15%",tax:`₹${(.15*(b-12e5)).toFixed(2)}`})}else if(2e6>=b){c=120000+.2*(b-16e5),d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B98 L \u2013 \u20B912 L",taxableIncome:4e5,rate:"10%",tax:"\u20B940000"}),d.push({slab:"\u20B912 L \u2013 \u20B916 L",taxableIncome:4e5,rate:"15%",tax:"\u20B960000"}),d.push({slab:"\u20B910 L \u2013 \u20B912.5 L",taxableIncome:b-16e5,rate:"20%",tax:`₹${(.2*(b-16e5)).toFixed(2)}`})}else if(24e5>=b){c=200000+.25*(b-2e5),d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B98 L \u2013 \u20B912 L",taxableIncome:4e5,rate:"10%",tax:"\u20B940000"}),d.push({slab:"\u20B912 L \u2013 \u20B916 L",taxableIncome:4e5,rate:"15%",tax:"\u20B960000"}),d.push({slab:"\u20B916 L \u2013 \u20B920 L",taxableIncome:4e5,rate:"20%",tax:"\u20B980000"}),d.push({slab:"\u20B920 L \u2013 \u20B924 L",taxableIncome:b-2e6,rate:"25%",tax:`₹${(.25*(b-2e6)).toFixed(2)}`})}else{c=300000+.3*(b-24e5),d.push({slab:"\u20B94 L \u2013 \u20B98 L",taxableIncome:4e5,rate:"5%",tax:"\u20B920000"}),d.push({slab:"\u20B98 L \u2013 \u20B912 L",taxableIncome:4e5,rate:"10%",tax:"\u20B940000"}),d.push({slab:"\u20B912 L \u2013 \u20B916 L",taxableIncome:4e5,rate:"15%",tax:"\u20B960000"}),d.push({slab:"\u20B916 L \u2013 \u20B920 L",taxableIncome:4e5,rate:"20%",tax:"\u20B980000"}),d.push({slab:"\u20B920 L \u2013 \u20B924 L",taxableIncome:4e5,rate:"25%",tax:"\u20B9100000"}),d.push({slab:"\u20B924 L and above",taxableIncome:b-125e4,rate:"30%",tax:`₹${(.3*(b-24e5)).toFixed(2)}`})}if(12e5>=b)6e4>=c?e=c:g=c;else{let a=b-12e5,d=Math.min(a,c);d==a?(f=c-a,g=d):g=c}return{tax:c,breakdown:d,taxableIncome:b,taxRebate:e,marginalRelief:f,taxPayable:g}}function taxBreakup(...a){let b=[{index:"1",name:"Gross Income",amount:`${a[0]}`,total:""},{index:"2",name:"House rent allowances under section 10(13A)",amount:`${a[1]}`,total:""}],c=a[0]-a[1];return b.push({index:"3",name:"Total income after section 10 [1-2] ",amount:"",total:`${c}`}),b.push({index:"4",name:"Standard Deduction under section 16(ia) ",amount:`${a[2]}`,total:""}),c-=a[2],b.push({index:"5",name:"Total income after section 16 [3-4] ",amount:"",total:`${c}`}),b.push({index:"6",name:"Deduction under section 80C",amount:`${a[3]}`,total:""}),c-=a[3],b.push({index:"7",name:"Total income after section 80C [5-6] ",amount:"",total:`${c}`}),b.push({index:"8",name:"NPS under section 80CCD(1B)",amount:`${a[4]}`,total:""}),c-=a[4],b.push({index:"9",name:"Total income after 80CCD(1B) [7-8] ",amount:"",total:`${c}`}),b.push({index:"10",name:"Health insurance premium section 80D",amount:`${a[5]}`,total:""}),c-=a[5],b.push({index:"11",name:"Total income after 80D(1B) [9-10] ",amount:"",total:`${c}`}),b.push({index:"12",name:"Interest paid on Home loan section 24(A)",amount:`${a[6]}`,total:""}),c-=a[6],b.push({index:"13",name:"Total income after 24(A) [11-12] ",amount:"",total:`${c}`}),b.push({index:"14",name:"Tax on Total Income ",amount:"",total:`${a[7].tax.toFixed(2)}`}),b.push({index:"15",name:"Rebate section 87A (if applicable )",amount:"",total:`${a[7].taxRebate.toFixed(2)}`}),b.push({index:"6",name:"Marginal Relief  (if applicable )",amount:"",total:`${a[7].marginalRelief.toFixed(2)}`}),b.push({index:"15",name:"Net Tax Payable (excluding cess)",amount:"",total:`${a[7].taxPayable}`}),{breakdown:b}}function taxBreakupNew(...a){let b=[{index:"1",name:"Gross Income",amount:`${a[0]}`,total:""},{index:"2",name:"Standard Deduction under section 16(ia) ",amount:`${a[1]}`,total:""}],c=a[0]-a[1];return b.push({index:"3",name:"Total income after section 16 [3-4] ",amount:"",total:`${c}`}),b.push({index:"4",name:"Tax on Total Income ",amount:"",total:`${a[2].tax.toFixed(2)}`}),b.push({index:"5",name:"Rebate section 87A (if applicable )",amount:"",total:`${a[2].taxRebate.toFixed(2)}`}),b.push({index:"6",name:"Marginal Relief  (if applicable )",amount:"",total:`${a[2].marginalRelief.toFixed(2)}`}),b.push({index:"7",name:"Net Tax Payable (excluding cess)",amount:"",total:`${a[2].taxPayable.toFixed(2)}`}),{breakdown:b}}function calculateTax(){const a=parseFloat(document.getElementById("income").value),b=parseFloat(document.getElementById("income").value),c=parseFloat(document.getElementById("deduction80c").value)||0,d=parseFloat(document.getElementById("deductionNPS").value)||0,e=parseFloat(document.getElementById("deductionHealth").value)||0,f=parseFloat(document.getElementById("deductionHRA").value)||0,g=parseFloat(document.getElementById("interestHomeLoan").value)||0,h=parseFloat(document.getElementById("financialYear").value);if(isNaN(a)||25e4>a||isNaN(b)||0>=b)return void alert("Please enter valid income! (greater than 250000)");const i=calculateOldRegimeTax(a,c+d+e+f+g+5e4,0),j=2024==h?calculateNewRegimeTax(b):calculateNewRegimeTax2025_26(b);document.getElementById("oldTax").textContent=i.taxPayable.toFixed(2),document.getElementById("newTax").textContent=j.taxPayable.toFixed(2);const k=taxBreakup(a,f,5e4,c,d,e,g,i),l=taxBreakupNew(b,75e3,j),m=document.getElementById("oldTaxCalculation");m.innerHTML="Old Regime Tax Calculation Breakdown";const n=document.getElementById("oldSlabCalculation");n.innerHTML="Tax Slabs Calculation";const o=document.getElementById("newTaxCalculation");o.innerHTML="New Regime Tax Calculation Breakdown";const p=document.getElementById("newSlabCalculation");p.innerHTML="Tax Slabs Calculation";const q=document.getElementById("svg");q.innerHTML="";const r=bodymovin.loadAnimation({wrapper:q,animType:"svg",loop:!1,autoplay:!0,path:"https://assets2.lottiefiles.com/packages/lf20_u4yrau.json"}),s=document.getElementById("oldRegimeTaxBreakbownBody");s.innerHTML="",k.breakdown.forEach(a=>{const b=`<tr>
                  <td>${a.index}</td>
                  <td>${a.name}</td>
                  <td>${a.amount}</td>
                  <td>${a.total}</td>
                </tr>`;s.innerHTML+=b});const t=document.getElementById("oldRegimeBreakdownHead");t.innerHTML="<tr>\n                    <th>Slab</th>\n                    <th>Taxable Income (\u20B9)</th>\n                    <th>Tax Rate</th>\n                    <th>Calculated Tax (\u20B9)</th>\n                  </tr>";const u=document.getElementById("oldRegimeBreakdown");u.innerHTML="",i.breakdown.forEach(a=>{const b=`<tr>
                  <td>${a.slab}</td>
                  <td>₹${a.taxableIncome}</td>
                  <td>${a.rate}</td>
                  <td>${a.tax}</td>
                </tr>`;u.innerHTML+=b}),u.innerHTML+=`<tr>
                              <td colspan="3">Total Tax</td>
                              <td>₹${i.tax-i.taxRebate}</td>
                            </tr>`;const v=document.getElementById("newRegimeTaxBreakbownBody");v.innerHTML="",l.breakdown.forEach(a=>{const b=`<tr>
                <td>${a.index}</td>
                <td>${a.name}</td>
                <td>${a.amount}</td>
                <td>${a.total}</td>
              </tr>`;v.innerHTML+=b});const w=document.getElementById("newRegimeBreakdownHead");w.innerHTML="<tr>\n                    <th>Slab</th>\n                    <th>Taxable Income (\u20B9)</th>\n                    <th>Tax Rate</th>\n                    <th>Calculated Tax (\u20B9)</th>\n                  </tr>";const x=document.getElementById("newRegimeBreakdown");x.innerHTML="",j.breakdown.forEach(a=>{const b=`<tr>
                  <td>${a.slab}</td>
                  <td>₹${a.taxableIncome}</td>
                  <td>${a.rate}</td>
                  <td>${a.tax}</td>
                </tr>`;x.innerHTML+=b}),x.innerHTML+=`<tr>
                              <td colspan="3">Total Tax</td>
                              <td>₹${j.tax-j.taxRebate}</td>
                            </tr>`;const y=i.taxPayable-j.taxPayable;if(0<y)document.getElementById("savings").textContent=`You save ₹${y.toFixed(2)} by choosing the New Tax Regime.`;else{let a=`You save ₹${(-y).toFixed(2)} by choosing the Old Tax Regime.`;0==parseInt(y)&&(a=`You can choose any tax regime.`),document.getElementById("savings").textContent=a}}